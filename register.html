<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register - Skill Trade</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="register.css">
</head>
<body>
    <div class="register-container">
        <div class="register-image"></div>
        <div class="register-content">
            <div class="register-header">
                <h2>Join Skill Trade</h2>
                <p>Connect with skilled professionals and trade your expertise</p>
            </div>
            <form id="register-form" class="register-form">
                <div class="form-group">
                    <label for="fullName">Full Name</label>
                    <input type="text" id="fullName" placeholder="Enter your full name" required>
                </div>
                
                <div class="form-group">
                    <label for="email">Email Address</label>
                    <input type="email" id="email" placeholder="Enter your email" required>
                </div>
                
                <!-- Password field with toggle -->
                <div class="form-group">
                    <label for="password">Password</label>
                    <div class="password-field">
                        <input type="password" id="password" placeholder="Create a password" required>
                        <span class="toggle-password" id="togglePassword">
                            <i class="bi bi-eye"></i>
                        </span>
                    </div>
                </div>

                <!-- Confirm Password field with toggle -->
                <div class="form-group">
                    <label for="confirmPassword">Confirm Password</label>
                    <div class="password-field">
                        <input type="password" id="confirmPassword" placeholder="Confirm your password" required>
                        <span class="toggle-password" id="toggleConfirmPassword">
                            <i class="bi bi-eye"></i>
                        </span>
                    </div>
                    <div id="password-mismatch" class="error-hint" style="display: none; color: red; font-size: 0.8rem; margin-top: 5px;">
                        Passwords do not match
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="skills">I can teach (select skills you can offer)</label>
                    <div class="skill-selection">
                        <div class="skill-option">
                            <input type="checkbox" id="webDev"> 
                            <label for="webDev">Web Development</label>
                        </div>
                        <div class="skill-option">
                            <input type="checkbox" id="appDev"> 
                            <label for="appDev">App Development</label>
                        </div>
                        <div class="skill-option">
                            <input type="checkbox" id="machineLearning"> 
                            <label for="machineLearning">Machine Learning</label>
                        </div>
                        <div class="skill-option">
                            <input type="checkbox" id="blockchain"> 
                            <label for="blockchain">Blockchain</label>
                        </div>
                        <div class="skill-option">
                            <input type="checkbox" id="gameDev"> 
                            <label for="gameDev">Game Development</label>
                        </div>
                        <div class="skill-option">
                            <input type="checkbox" id="graphicDesign"> 
                            <label for="graphicDesign">Graphic Design</label>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="lookingFor">I want to learn (select skills you're seeking)</label>
                    <div class="skill-selection">
                        <div class="skill-option">
                            <input type="checkbox" id="learnWebDev"> 
                            <label for="learnWebDev">Web Development</label>
                        </div>
                        <div class="skill-option">
                            <input type="checkbox" id="learnAppDev"> 
                            <label for="learnAppDev">App Development</label>
                        </div>
                        <div class="skill-option">
                            <input type="checkbox" id="learnML"> 
                            <label for="learnML">Machine Learning</label>
                        </div>
                        <div class="skill-option">
                            <input type="checkbox" id="learnBlockchain"> 
                            <label for="learnBlockchain">Blockchain</label>
                        </div>
                        <div class="skill-option">
                            <input type="checkbox" id="learnGameDev"> 
                            <label for="learnGameDev">Game Development</label>
                        </div>
                        <div class="skill-option">
                            <input type="checkbox" id="learnGraphicDesign"> 
                            <label for="learnGraphicDesign">Graphic Design</label>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="bio">Brief Bio</label>
                    <textarea id="bio" rows="3" placeholder="Tell us about yourself and your experience"></textarea>
                </div>
                
                <button type="submit" class="register-btn">Create Account</button>
                
                <div class="login-link">
                    Already have an account? <a href="login.html">Login here</a>
                </div>
            </form>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Handle form submission
        document.addEventListener('DOMContentLoaded', function() {
            // Add visual indicator for selected skills
            const skillOptions = document.querySelectorAll('.skill-option');
            skillOptions.forEach(option => {
                const checkbox = option.querySelector('input[type="checkbox"]');
                checkbox.addEventListener('change', function() {
                    if (this.checked) {
                        option.classList.add('selected');
                    } else {
                        option.classList.remove('selected');
                    }
                });
            });
            
            document.getElementById('register-form').addEventListener('submit', function(event) {
                // Prevent default form submission
                event.preventDefault();
                
                // Get form values
                const fullName = document.getElementById('fullName').value;
                const email = document.getElementById('email').value;
                const password = document.getElementById('password').value;
                const confirmPassword = document.getElementById('confirmPassword').value;
                const bio = document.getElementById('bio').value;
                
                // Get skills the user can teach
                const canTeach = [];
                if(document.getElementById('webDev').checked) canTeach.push('Web Development');
                if(document.getElementById('appDev').checked) canTeach.push('App Development');
                if(document.getElementById('machineLearning').checked) canTeach.push('Machine Learning');
                if(document.getElementById('blockchain').checked) canTeach.push('Blockchain');
                if(document.getElementById('gameDev').checked) canTeach.push('Game Development');
                if(document.getElementById('graphicDesign').checked) canTeach.push('Graphic Design');
                
                // Get skills the user wants to learn
                const wantsToLearn = [];
                if(document.getElementById('learnWebDev').checked) wantsToLearn.push('Web Development');
                if(document.getElementById('learnAppDev').checked) wantsToLearn.push('App Development');
                if(document.getElementById('learnML').checked) wantsToLearn.push('Machine Learning');
                if(document.getElementById('learnBlockchain').checked) wantsToLearn.push('Blockchain');
                if(document.getElementById('learnGameDev').checked) wantsToLearn.push('Game Development');
                if(document.getElementById('learnGraphicDesign').checked) wantsToLearn.push('Graphic Design');
                
                // Check if required fields are filled
                if (fullName && email && password && confirmPassword) {
                    if (password !== confirmPassword) {
                        document.getElementById('password-mismatch').style.display = 'block';
                        return;
                    } else {
                        document.getElementById('password-mismatch').style.display = 'none';
                    }
                    
                    // Store user info in localStorage
                    localStorage.setItem('user_name', fullName);
                    localStorage.setItem('user_email', email);
                    localStorage.setItem('user_bio', bio);
                    localStorage.setItem('user_can_teach', JSON.stringify(canTeach));
                    localStorage.setItem('user_wants_to_learn', JSON.stringify(wantsToLearn));
                    localStorage.setItem('is_registered', 'true');
                    localStorage.setItem('registration_date', new Date().toISOString());
                    
                    // Redirect to login page after successful registration
                    window.location.href = 'login.html?registered=success';
                } else {
                    // Show an error message
                    alert('Please fill in all required fields');
                }
            });

            // Toggle password visibility
            const togglePassword = document.getElementById('togglePassword');
            const toggleConfirmPassword = document.getElementById('toggleConfirmPassword');
            const passwordInput = document.getElementById('password');
            const confirmPasswordInput = document.getElementById('confirmPassword');

            togglePassword.addEventListener('click', function() {
                const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                passwordInput.setAttribute('type', type);
                this.querySelector('i').classList.toggle('bi-eye');
                this.querySelector('i').classList.toggle('bi-eye-slash');
            });

            toggleConfirmPassword.addEventListener('click', function() {
                const type = confirmPasswordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                confirmPasswordInput.setAttribute('type', type);
                this.querySelector('i').classList.toggle('bi-eye');
                this.querySelector('i').classList.toggle('bi-eye-slash');
            });
        });
    </script>
</body>
</html>